<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Bot de Vendas - Medical Brasil</title>
    <style>
        #chatbot {
            width: 350px;
            border: 1px solid #ccc;
            padding: 20px;
            font-family: Arial;
        }
        .bot-message { margin: 10px 0; color: #333; }
        button {
            margin: 5px;
            padding: 8px;
            background: #007bff;
            color: white;
            border: none;
            cursor: pointer;
        }
        #carrinho { margin-top: 20px; }
    </style>
</head>
<body>
    <div id="chatbot">
        <div id="messages" class="bot-message"></div>
        <div id="botoes"></div>
        <div id="carrinho"></div>
    </div>

<script>
// Dados dos Produtos Organizados
const produtos = {
    "LANDERLAN": {
        "ðŸ’‰ InjetÃ¡veis": [
            { nome: "Durateston 250mg/1ml", preco: 30 },
            { nome: "Testoland 200mg/3amp", preco: 75 },
            // ... (adicionar todos os itens)
        ],
        "ðŸ’Š Orais": [
            { nome: "Drostenoland 50cmp/10mg", preco: 240 },
            // ... (adicionar todos os itens)
        ]
    },
    // ... (repetir estrutura para todas as linhas)
};

let carrinho = [];
let etapaAtual = { tipo: 'inicio' };

function iniciarBot() {
    mostrarOpcoes(Object.keys(produtos), "Escolha uma linha de produtos:");
}

function mostrarOpcoes(itens, mensagem) {
    document.getElementById("messages").innerHTML = `<p>${mensagem}</p>`;
    const botoesDiv = document.getElementById("botoes");
    botoesDiv.innerHTML = itens.map(item => 
        `<button onclick="selecionarCategoria('${item}')">${item}</button>`
    ).join('');
}

function selecionarCategoria(categoria) {
    const tipos = Object.keys(produtos[categoria]);
    mostrarOpcoes(tipos, `Escolha o tipo de produto em ${categoria}:`);
    etapaAtual = { tipo: 'categoria', categoria };
}

function selecionarTipo(tipo) {
    const itens = produtos[etapaAtual.categoria][tipo];
    const lista = itens.map((item, index) => 
        `<button onclick="adicionarAoCarrinho(${index})">${item.nome} - R$ ${item.preco}</button>`
    ).join('');
    document.getElementById("botoes").innerHTML = lista + `<button onclick="iniciarBot()">Voltar</button>`;
}

function adicionarAoCarrinho(index) {
    const item = produtos[etapaAtual.categoria][etapaAtual.tipo][index];
    carrinho.push(item);
    atualizarCarrinho();
}

function atualizarCarrinho() {
    const total = carrinho.reduce((sum, item) => sum + item.preco, 0);
    const lista = carrinho.map(item => 
        `<li>${item.nome} - R$ ${item.preco}</li>`
    ).join('');
    document.getElementById("carrinho").innerHTML = `
        <h3>Carrinho (Total: R$ ${total})</h3>
        <ul>${lista}</ul>
        <button onclick="finalizarCompra()">Finalizar Compra</button>
    `;
}

function finalizarCompra() {
    const total = carrinho.reduce((sum, item) => sum + item.preco, 0);
    window.location.href = `https://medical-brasil.catalog.kyte.site/checkout?total=${total}`;
}

// Iniciar o Bot
iniciarBot();
</script>
</body>
</html>